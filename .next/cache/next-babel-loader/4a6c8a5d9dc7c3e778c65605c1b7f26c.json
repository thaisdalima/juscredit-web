{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport PasswordForm from \"../../../components/Register/PasswordForm/PasswordForm\";\nimport JwtDecode from 'jwt-decode';\nimport Router from \"next/router\";\n\nconst redirectToHome = res => {\n  if (res) {\n    res.writeHead(302, {\n      Location: '/'\n    });\n    res.end();\n    res.finished = true;\n  } else {\n    Router.push('/');\n  }\n};\n\nconst PasswordCreation = ({\n  user,\n  token\n}) => {\n  return __jsx(PasswordForm, {\n    user: user,\n    token: token\n  });\n};\n\nPasswordCreation.getInitialProps = async ({\n  res,\n  query\n}) => {\n  const {\n    token\n  } = query;\n\n  try {\n    const user = JwtDecode(token);\n\n    if (!user) {\n      redirectToHome(res);\n    }\n\n    return {\n      user,\n      token\n    };\n  } catch (e) {\n    redirectToHome(res);\n  }\n};\n\nexport default PasswordCreation;","map":null,"metadata":{},"sourceType":"module"}