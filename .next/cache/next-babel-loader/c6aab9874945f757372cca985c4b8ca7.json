{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport PasswordForm from \"../../../components/Register/PasswordForm/PasswordForm\";\nimport JwtDecode from 'jwt-decode';\nimport Router from \"next/router\";\n\nvar redirectToHome = function redirectToHome(res) {\n  if (res) {\n    res.writeHead(302, {\n      Location: '/'\n    });\n    res.end();\n    res.finished = true;\n  } else {\n    Router.push('/');\n  }\n};\n\nvar PasswordCreation = function PasswordCreation(_ref) {\n  var user = _ref.user,\n      token = _ref.token;\n  return __jsx(PasswordForm, {\n    user: user,\n    token: token\n  });\n};\n\nPasswordCreation.getInitialProps = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n    var res, query, token, user;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            res = _ref2.res, query = _ref2.query;\n            token = query.token;\n            _context.prev = 2;\n            user = JwtDecode(token);\n\n            if (!user) {\n              redirectToHome(res);\n            }\n\n            return _context.abrupt(\"return\", {\n              user: user,\n              token: token\n            });\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](2);\n            redirectToHome(res);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[2, 8]]);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport default PasswordCreation;","map":null,"metadata":{},"sourceType":"module"}