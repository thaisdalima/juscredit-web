{"ast":null,"code":"import _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nvar _jsxFileName = \"C:\\\\Users\\\\Thais Linda\\\\juscredit-web\\\\components\\\\Register\\\\LoginForm\\\\LoginForm.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport Router from 'next/router';\nimport StyledInput from '../../Input/Input';\nimport Button from '../../Button/Button';\nimport '..components/RegisterForm.scss';\n\nvar LoginForm = function LoginForm() {\n  var handleSubmit = function handleSubmit(values) {\n    var res, _ref, token;\n\n    return _regeneratorRuntime.async(function handleSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(fetch(\"\".concat(process.env.API_URL, \"/api/signup\"), {\n              method: 'POST',\n              headers: {\n                'Content-type': 'application/json'\n              },\n              body: _JSON$stringify({\n                password: values.password\n              })\n            }));\n\n          case 3:\n            res = _context.sent;\n\n            if (!(res.status === 200)) {\n              _context.next = 12;\n              break;\n            }\n\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(res.json());\n\n          case 7:\n            _ref = _context.sent;\n            token = _ref.token;\n            document.cookie = \"lead=\".concat(true, \"; path=/\");\n            document.cookie = \"auth_token=\".concat(token, \"; path=/\");\n            Router.push('/find-partners');\n\n          case 12:\n            _context.next = 17;\n            break;\n\n          case 14:\n            _context.prev = 14;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(_context.t0);\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 14]], _Promise);\n  };\n\n  return __jsx(\"div\", {\n    className: \"login-card-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"card login-card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"title-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"  \", __jsx(\"h1\", {\n    className: \"card-title \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"Login\")), __jsx(\"div\", {\n    className: \"card-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, __jsx(Formik, {\n    initialValues: {\n      email: '',\n      password: ''\n    },\n    onSubmit: handleSubmit,\n    render: function render(_ref2) {\n      var handleChange = _ref2.handleChange,\n          submitForm = _ref2.submitForm;\n      return __jsx(Form, {\n        className: \"form-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, __jsx(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"Fa\\xE7a seu login abaixo:\"), __jsx(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, __jsx(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"Email\"), __jsx(Field, {\n        name: \"email\",\n        disabled: \"true\",\n        placeholder: \"Email\",\n        onChange: handleChange('email'),\n        component: StyledInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }), __jsx(ErrorMessage, {\n        name: \"email\",\n        component: \"span\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }))), __jsx(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, __jsx(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Senha\"), __jsx(Field, {\n        name: \"password\",\n        placeholder: \"Senha\",\n        onChange: handleChange('password'),\n        type: \"password\",\n        component: StyledInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), __jsx(ErrorMessage, {\n        name: \"password\",\n        component: \"span\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }))), __jsx(\"div\", {\n        className: \"button-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, __jsx(Button, {\n        color: \"primary\",\n        onClick: function onClick() {\n          return submitForm();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Entrar\")));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }))));\n};\n\nexport default LoginForm;","map":{"version":3,"sources":["C:/Users/Thais Linda/juscredit-web/components/Register/LoginForm/LoginForm.tsx"],"names":["Formik","Form","Field","ErrorMessage","Router","StyledInput","Button","LoginForm","handleSubmit","values","fetch","process","env","API_URL","method","headers","body","password","res","status","json","token","document","cookie","push","console","error","email","handleChange","submitForm"],"mappings":"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","sourcesContent":["import { Formik, Form, Field, ErrorMessage } from 'formik'\r\nimport Router from 'next/router'\r\nimport StyledInput from '../../Input/Input'\r\nimport Button from '../../Button/Button'\r\nimport '..components/RegisterForm.scss';\r\n\r\n\r\nconst LoginForm = () => {\r\n    const handleSubmit = async (values) => {\r\n        try {\r\n            const res = await fetch(`${process.env.API_URL}/api/signup`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    password: values.password\r\n                })\r\n            })\r\n            if (res.status === 200) {\r\n                const { token } = await res.json();\r\n                document.cookie = `lead=${true}; path=/`;\r\n                document.cookie = `auth_token=${token}; path=/`\r\n                Router.push('/find-partners')\r\n            }\r\n        } catch (e) {\r\n            console.error(e)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-card-container\">\r\n            <div className=\"card login-card\">\r\n                <div className=\"title-container\">  <h1 className=\"card-title \">Login</h1></div>\r\n\r\n                <div className=\"card-content\">\r\n                    <Formik\r\n                        initialValues={{\r\n                            email: '',\r\n                            password: '',\r\n\r\n                        }}\r\n                        onSubmit={handleSubmit}\r\n                        render={({ handleChange, submitForm }) => {\r\n                            return <Form className=\"form-container\">\r\n                                <h2>Faça seu login abaixo:</h2>\r\n                                <div className=\"row\">\r\n                                    <div className=\"form-group\">\r\n                                        <label>Email</label>\r\n                                        <Field\r\n                                            name=\"email\"\r\n                                            disabled=\"true\"\r\n                                            placeholder=\"Email\"\r\n                                            onChange={handleChange('email')}\r\n                                            component={StyledInput}\r\n                                        />\r\n                                        <ErrorMessage name=\"email\" component=\"span\" />\r\n\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"form-group\">\r\n                                        <label>Senha</label>\r\n                                        <Field\r\n                                            name=\"password\"\r\n                                            placeholder=\"Senha\"\r\n                                            onChange={handleChange('password')}\r\n                                            type=\"password\"\r\n                                            component={StyledInput}\r\n                                        />\r\n                                        <ErrorMessage name=\"password\" component=\"span\" />\r\n\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"button-container\">\r\n                                    <Button color=\"primary\" onClick={() => submitForm()}>Entrar</Button>\r\n                                </div>\r\n                            </Form>\r\n                        }}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>)\r\n}\r\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}