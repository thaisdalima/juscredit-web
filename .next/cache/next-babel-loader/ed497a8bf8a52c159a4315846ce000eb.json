{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport '../RegisterForm.scss';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport StyledInput from '../../Input/Input';\nimport Button from '../../Button/Button';\nimport Router from 'next/router';\n\nconst PasswordForm = ({\n  user,\n  token\n}) => {\n  const handleSubmit = async values => {\n    try {\n      const res = await fetch(`${process.env.API_URL}/api/signup`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify({\n          password: values.password\n        })\n      });\n\n      if (res.status === 200) {\n        const {\n          token\n        } = await res.json();\n        document.cookie = `lead=${true}; path=/`;\n        document.cookie = `auth_token=${token}; path=/`;\n        Router.push('/find-partners');\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"card\"\n  }, __jsx(\"div\", {\n    className: \"title-container\"\n  }, \"  \", __jsx(\"h1\", {\n    className: \"card-title \"\n  }, \"Criar senha\")), __jsx(\"div\", {\n    className: \"card-content\"\n  }, __jsx(Formik, {\n    initialValues: {\n      email: user.email,\n      password: '',\n      confirmPassword: ''\n    },\n    onSubmit: handleSubmit,\n    render: ({\n      handleChange,\n      submitForm\n    }) => {\n      return __jsx(Form, {\n        className: \"form-container\"\n      }, __jsx(\"h2\", null, \"Ol\\xE1 \", user.name, \", para acessar o seu perfil basta criar uma senha.\"), __jsx(\"div\", {\n        className: \"row\"\n      }, __jsx(\"div\", {\n        className: \"form-group\"\n      }, __jsx(\"label\", null, \"Email\"), __jsx(Field, {\n        name: \"email\",\n        disabled: \"true\",\n        placeholder: \"Email\",\n        onChange: handleChange('email'),\n        component: StyledInput\n      }), __jsx(ErrorMessage, {\n        name: \"email\",\n        component: \"span\"\n      }))), __jsx(\"div\", {\n        className: \"row\"\n      }, __jsx(\"div\", {\n        className: \"form-group\"\n      }, __jsx(\"label\", null, \"Senha\"), __jsx(Field, {\n        name: \"password\",\n        placeholder: \"Senha\",\n        onChange: handleChange('password'),\n        type: \"password\",\n        component: StyledInput\n      }), __jsx(ErrorMessage, {\n        name: \"password\",\n        component: \"span\"\n      }))), __jsx(\"div\", {\n        className: \"row\"\n      }, __jsx(\"div\", {\n        className: \"form-group\"\n      }, __jsx(\"label\", null, \"Confirmar senha\"), __jsx(Field, {\n        name: \"confirmPassword\",\n        placeholder: \"Confirmar senha\",\n        onChange: handleChange('confirmPassword'),\n        type: \"password\",\n        component: StyledInput\n      }), __jsx(ErrorMessage, {\n        name: \"confirmPassword\",\n        component: \"span\"\n      }))), __jsx(\"div\", {\n        className: \"button-container\"\n      }, __jsx(Button, {\n        color: \"primary\",\n        onClick: () => submitForm()\n      }, \"Finalizar cadastro\")));\n    }\n  })));\n};\n\nexport default PasswordForm;","map":null,"metadata":{},"sourceType":"module"}