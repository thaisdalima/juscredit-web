{"ast":null,"code":"import Router from 'next/router';\nimport nextCookie from 'next-cookies';\nexport const auth = ctx => {\n  const {\n    auth_token\n  } = nextCookie(ctx);\n\n  if (ctx.req && !auth_token) {\n    ctx.res.writeHead(302, {\n      Location: '/login'\n    });\n    ctx.res.end();\n    return;\n  }\n\n  if (!auth_token) {\n    Router.push('/login');\n  }\n\n  return auth_token;\n};","map":{"version":3,"sources":["C:/Users/Thais Linda/juscredit-web/utils/auth.ts"],"names":["Router","nextCookie","auth","ctx","auth_token","req","res","writeHead","Location","end","push"],"mappings":"AACA,OAAOA,MAAP,MAAmB,aAAnB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AAEA,OAAO,MAAMC,IAAI,GAAGC,GAAG,IAAI;AACzB,QAAM;AAAEC,IAAAA;AAAF,MAAiBH,UAAU,CAACE,GAAD,CAAjC;;AAEA,MAAIA,GAAG,CAACE,GAAJ,IAAW,CAACD,UAAhB,EAA4B;AAC1BD,IAAAA,GAAG,CAACG,GAAJ,CAAQC,SAAR,CAAkB,GAAlB,EAAuB;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAvB;AACAL,IAAAA,GAAG,CAACG,GAAJ,CAAQG,GAAR;AACA;AACD;;AAED,MAAI,CAACL,UAAL,EAAiB;AACfJ,IAAAA,MAAM,CAACU,IAAP,CAAY,QAAZ;AACD;;AAED,SAAON,UAAP;AACD,CAdM","sourcesContent":["\r\nimport Router from 'next/router'\r\nimport nextCookie from 'next-cookies'\r\n\r\nexport const auth = ctx => {\r\n  const { auth_token } = nextCookie(ctx)\r\n\r\n  if (ctx.req && !auth_token) {\r\n    ctx.res.writeHead(302, { Location: '/login' })\r\n    ctx.res.end()\r\n    return\r\n  }\r\n\r\n  if (!auth_token) {\r\n    Router.push('/login')\r\n  }\r\n\r\n  return auth_token   \r\n}"]},"metadata":{},"sourceType":"module"}